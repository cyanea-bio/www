{% extends "base.html" %}

{% block title %}Pricing | {{ config.title }}{% endblock %}
{% block description %}Local-first by default. Upgrade when you need team collaboration or server compute.{% endblock %}

{% block structured_data %}
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Cyanea Pricing",
    "description": "Local-first by default. Upgrade when you need team collaboration or server compute.",
    "url": "{{ current_url | safe }}",
    "provider": { "@id": "{{ config.base_url }}/#organization" },
    "mainEntity": {
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "What are compute credits?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "1 compute credit equals 1 CPU-minute of server-side execution. Free plan users run code locally via WebAssembly in the browser, which is fast and private with no credits needed. Credits are only consumed when you run server-side cells."
                }
            },
            {
                "@type": "Question",
                "name": "What happens if I run out of credits?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Your WASM notebooks keep working — credits only apply to server-side execution. Additional credits are available at $10 per 1,000 credits, or you can upgrade your plan for a higher monthly allowance."
                }
            },
            {
                "@type": "Question",
                "name": "Is there a free trial?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "The Free plan is free forever with 1 GB storage and local WASM compute. Pro and Team plans include a 14-day free trial with full access — no credit card required to start."
                }
            },
            {
                "@type": "Question",
                "name": "Can I self-host Cyanea?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes. Cyanea is open source and can be self-hosted with federation support. The Enterprise plan adds on-premises deployment, air-gapped installs, and dedicated infrastructure for regulated environments."
                }
            },
            {
                "@type": "Question",
                "name": "What does WASM-only compute mean?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Free plan users run notebook code locally in the browser via WebAssembly. Your data never leaves your machine. Server-side execution for languages like Elixir requires a Pro plan or above."
                }
            },
            {
                "@type": "Question",
                "name": "Is Cyanea HIPAA compliant?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "HIPAA compliance is available on the Enterprise plan, which includes dedicated infrastructure, audit logging, and 24/7 support with SLA. Contact sales for details on BAA agreements."
                }
            },
            {
                "@type": "Question",
                "name": "Can I add more seats to the Team plan?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes. The Team plan includes 5 seats. Additional seats are $29/seat/month, added instantly from your billing dashboard. Enterprise plans include unlimited seats."
                }
            },
            {
                "@type": "Question",
                "name": "How does storage work?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Storage covers all files across your spaces — datasets, notebooks, protocols, and uploads. Each plan has a storage cap: 1 GB free, 100 GB Pro, 1 TB Team. You can monitor usage from your billing settings."
                }
            }
        ]
    },
    "speakable": {
        "@type": "SpeakableSpecification",
        "cssSelector": [".pricing-header h1", ".pricing-header p", ".pricing-tier", ".pricing-price"]
    }
}
</script>
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
        { "@type": "ListItem", "position": 1, "name": "Home", "item": "{{ config.base_url }}/" },
        { "@type": "ListItem", "position": 2, "name": "Pricing" }
    ]
}
</script>
{% endblock %}

{% block content %}
<div class="pricing-page">
    <header class="pricing-header">
        <h1>Local-first by default</h1>
        <p>Upgrade when you need team collaboration or server compute. No hidden fees.</p>
    </header>

    <div class="pricing-grid">
        <!-- Free -->
        <div class="pricing-card" aria-label="Free plan">
            <div class="pricing-tier">Free</div>
            <div class="pricing-price">
                <span class="amount">$0</span>
                <span class="period">/month</span>
            </div>
            <p class="pricing-description">For individual researchers exploring locally.</p>
            <ul class="pricing-features">
                <li>1 GB storage</li>
                <li>Solo (1 member)</li>
                <li>WASM-only compute</li>
                <li>Public spaces only</li>
                <li>20 versions per notebook</li>
                <li>Rate-limited API</li>
                <li>Community support</li>
            </ul>
            <div class="pricing-cta">
                <a href="/signup" class="btn btn-secondary">Get Started</a>
            </div>
        </div>

        <!-- Pro -->
        <div class="pricing-card featured" aria-label="Pro plan - recommended">
            <div class="pricing-tier">Pro</div>
            <div class="pricing-price">
                <span class="amount">$98</span>
                <span class="period">/user/month</span>
            </div>
            <p class="pricing-description">Server compute and privacy for serious research.</p>
            <ul class="pricing-features">
                <li>100 GB storage</li>
                <li>1,000 compute credits/mo</li>
                <li>Server-side execution (CPU)</li>
                <li>Public + private spaces</li>
                <li>Unlimited versions</li>
                <li>Full API access</li>
                <li>Email support</li>
            </ul>
            <div class="pricing-cta">
                <a href="/signup" class="btn btn-primary">Start Free Trial</a>
            </div>
        </div>

        <!-- Team -->
        <div class="pricing-card" aria-label="Team plan">
            <div class="pricing-tier">Team</div>
            <div class="pricing-price">
                <span class="amount">$499</span>
                <span class="period">/workspace/month</span>
            </div>
            <p class="pricing-description">Collaboration and controls for research groups.</p>
            <ul class="pricing-features">
                <li>1 TB storage</li>
                <li>5 seats included (+$29/extra)</li>
                <li>10,000 compute credits/mo</li>
                <li>Server-side execution (CPU)</li>
                <li>Public + private spaces</li>
                <li>Unlimited versions</li>
                <li>Full API access</li>
                <li>Audit log export</li>
                <li>SSO (coming soon)</li>
                <li>Priority support + SLA</li>
            </ul>
            <div class="pricing-cta">
                <a href="/signup" class="btn btn-primary">Start Free Trial</a>
            </div>
        </div>

        <!-- Enterprise -->
        <div class="pricing-card" aria-label="Enterprise plan">
            <div class="pricing-tier">Enterprise</div>
            <div class="pricing-price">
                <span class="amount">Custom</span>
                <span class="period">from $15k/year</span>
            </div>
            <p class="pricing-description">Dedicated infrastructure for regulated environments.</p>
            <ul class="pricing-features">
                <li>Unlimited storage</li>
                <li>Unlimited seats</li>
                <li>Dedicated compute (CPU + GPU)</li>
                <li>On-premises / air-gapped deploy</li>
                <li>HIPAA compliance</li>
                <li>Custom API limits</li>
                <li>24/7 support with SLA</li>
                <li>Dedicated account manager</li>
                <li>Custom training</li>
            </ul>
            <div class="pricing-cta">
                <a href="/contact" class="btn btn-secondary">Contact Sales</a>
            </div>
        </div>
    </div>

    <section class="pricing-faq">
        <h2>Frequently asked questions</h2>
        <div class="pricing-faq-grid">
            <details class="pricing-faq-item" open>
                <summary>What are compute credits?</summary>
                <p>1 compute credit = 1 CPU-minute of server-side execution. Free plan users run code locally via WebAssembly (WASM) in the browser — fast and private, with no credits needed. Credits are only consumed when you run server-side cells (Elixir, and more languages coming soon).</p>
            </details>
            <details class="pricing-faq-item">
                <summary>What happens if I run out of credits?</summary>
                <p>Your WASM notebooks keep working — credits only apply to server-side execution. If you need more, additional credits are available at $10 per 1,000 credits. You can also upgrade your plan for a higher monthly allowance.</p>
            </details>
            <details class="pricing-faq-item">
                <summary>Is there a free trial?</summary>
                <p>The Free plan is free forever with 1 GB storage and local WASM compute. Pro and Team plans include a 14-day free trial with full access — no credit card required to start.</p>
            </details>
            <details class="pricing-faq-item">
                <summary>Can I self-host Cyanea?</summary>
                <p>Yes. Cyanea is open source and can be self-hosted with federation support. The Enterprise plan adds on-premises deployment, air-gapped installs, and dedicated infrastructure for regulated environments.</p>
            </details>
            <details class="pricing-faq-item">
                <summary>What does "WASM-only compute" mean?</summary>
                <p>Free plan users run notebook code locally in the browser via WebAssembly. Your data never leaves your machine. It supports Cyanea's built-in bioinformatics language. Server-side execution for languages like Elixir requires a Pro plan or above.</p>
            </details>
            <details class="pricing-faq-item">
                <summary>Is Cyanea HIPAA compliant?</summary>
                <p>HIPAA compliance is available on the Enterprise plan, which includes dedicated infrastructure, audit logging, and 24/7 support with SLA. Contact sales for details on BAA agreements.</p>
            </details>
            <details class="pricing-faq-item">
                <summary>Can I add more seats to the Team plan?</summary>
                <p>Yes. The Team plan includes 5 seats. Additional seats are $29/seat/month, added instantly from your billing dashboard. Enterprise plans include unlimited seats.</p>
            </details>
            <details class="pricing-faq-item">
                <summary>How does storage work?</summary>
                <p>Storage covers all files across your spaces — datasets, notebooks, protocols, and uploads. Each plan has a storage cap (1 GB free, 100 GB Pro, 1 TB Team). You can monitor usage from your billing settings.</p>
            </details>
        </div>
    </section>

    <section class="cta">
        <div class="cta-bg"></div>
        <div class="cta-container">
            <h2>Not sure which plan is right?</h2>
            <p>Our team can help you find the best fit for your research needs.</p>
            <a href="/contact" class="btn btn-secondary btn-large">Talk to Sales</a>
        </div>
    </section>
</div>
{% endblock %}
